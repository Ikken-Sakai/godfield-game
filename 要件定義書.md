# ゴッドフィールド風カードゲーム 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
**GodField Clone** - AIパワード運ゲーカードバトル

### 1.2 目的
- ゴッドフィールドを参考にしたWebブラウザ上で動作するカードゲームの開発
- 将来的にAIによる自動カード生成機能を追加し、より運要素の強いゲームへ拡張

### 1.3 開発フェーズ
| フェーズ | 内容 | 優先度 |
|---------|------|--------|
| Phase 1 | ゴッドフィールドの基本再現 | 高 |
| Phase 2 | AI自動カード生成機能 | 中 |
| Phase 3 | パラメータ未知化（運ゲー強化） | 中 |

---

## 2. システム要件

### 2.1 動作環境
| 項目 | 仕様 |
|------|------|
| OS | Ubuntu 20.04 |
| ブラウザ | Google Chrome（最新版） |
| デバイス | ノートPC |

### 2.2 技術スタック（予定）
| レイヤー | 技術 |
|----------|------|
| フロントエンド | HTML5 / CSS3 / JavaScript (Vanilla or React) |
| バックエンド | Node.js または Python (Flask/FastAPI) |
| データベース | SQLite（軽量）または JSON ファイル |
| ホスティング | ローカルサーバー（開発中）|

---

## 3. ゲーム仕様

### 3.1 基本ルール（ゴッドフィールド準拠）

#### 3.1.1 ゲーム目的
- 対戦相手のHP（体力）を0にすることで勝利

#### 3.1.2 初期設定
| 項目 | 値 |
|------|-----|
| 初期HP | 40 |
| 初期手札枚数 | 9枚 |
| 最大手札枚数 | 9枚 |

#### 3.1.3 ターン進行
1. 先攻・後攻はランダムで決定
2. 自分のターンでカードを使用（攻撃・防御・特殊効果）
3. カードを使用した分だけ山札から補充
4. 相手のターンへ

#### 3.1.4 カードの種類
| カード種別 | 説明 | 例 |
|-----------|------|-----|
| 武器 | 攻撃に使用。ダメージを与える | 剣、斧、槍 |
| 防具 | 防御に使用。ダメージを軽減 | 盾、鎧 |
| 奇跡 | 特殊効果を発動 | 回復、雷撃 |
| アイテム | 一時的な効果を付与 | 薬、強化剤 |
| アクション | 即時効果を発動 | 回避、カウンター |

#### 3.1.5 攻撃・防御フロー
```
攻撃側: 武器カード選択 → ダメージ値決定
    ↓
防御側: 防具カード選択（任意）→ ダメージ軽減
    ↓
最終ダメージ = 攻撃力 - 防御力（最低0）
    ↓
防御側HP減少
```

### 3.2 ゲームモード

#### Phase 1（初期実装）
| モード | 説明 |
|--------|------|
| 対CPU戦 | 1人でCPUと対戦（修行モード）|
| ローカル対戦 | 同じPCで2人対戦 |

#### Phase 2以降（将来拡張）
| モード | 説明 |
|--------|------|
| オンライン対戦 | ネットワーク経由で対戦 |
| トーナメント | 複数人でトーナメント形式 |

---

## 4. 機能要件

### 4.1 Phase 1 必須機能

#### 4.1.1 ゲーム画面
- [ ] プレイヤー情報表示（HP、名前）
- [ ] 手札表示エリア
- [ ] 場（フィールド）表示エリア
- [ ] 対戦相手情報表示
- [ ] ターン表示
- [ ] アクションボタン（攻撃、防御、ターン終了）

#### 4.1.2 カードシステム
- [ ] カードデータ管理（JSON形式）
- [ ] カードドロー機能
- [ ] カード使用機能
- [ ] 手札補充機能

#### 4.1.3 対戦システム
- [ ] 先攻後攻決定
- [ ] ターン管理
- [ ] ダメージ計算
- [ ] 勝敗判定

#### 4.1.4 CPU AI（基本）
- [ ] ランダム行動
- [ ] 基本的な戦略（HP低い時は回復優先など）

### 4.2 Phase 2 拡張機能

#### 4.2.1 AIカード生成
- [ ] カード名の自動生成
- [ ] カード効果の自動生成
- [ ] バランス調整機能

#### 4.2.2 パラメータ未知化
- [ ] カード使用時まで効果が分からない仕様
- [ ] 攻撃力・防御力のランダム幅設定
- [ ] サプライズ要素の追加

---

## 5. 非機能要件

### 5.1 パフォーマンス
- ページ読み込み: 3秒以内
- カード操作のレスポンス: 0.5秒以内

### 5.2 ユーザビリティ
- 直感的なドラッグ＆ドロップ操作
- カード効果の分かりやすい説明表示
- アニメーション効果

### 5.3 保守性
- モジュール化されたコード構造
- カードデータの外部ファイル管理
- 拡張しやすい設計

---

## 6. UI/UX設計

### 6.1 画面構成
```
┌─────────────────────────────────────────┐
│           対戦相手情報                    │
│         HP: ██████████ 40/40            │
│         手札: 🂠🂠🂠🂠🂠🂠🂠🂠🂠             │
├─────────────────────────────────────────┤
│                                         │
│              フィールド                   │
│         （使用されたカード表示）            │
│                                         │
├─────────────────────────────────────────┤
│           自分の手札                      │
│     🃁 🃂 🃃 🃄 🃅 🃆 🃇 🃈 🃉              │
├─────────────────────────────────────────┤
│  HP: ██████████ 40/40  [攻撃][防御][終了] │
└─────────────────────────────────────────┘
```

### 6.2 カードデザイン
```
┌─────────┐
│ ⚔️ 剣   │  ← カード名
├─────────┤
│         │
│  🗡️    │  ← アイコン
│         │
├─────────┤
│ ATK: 5  │  ← パラメータ
│ 武器    │  ← カード種別
└─────────┘
```

---

## 7. データ設計

### 7.1 カードデータ構造（JSON）
```json
{
  "id": "sword_001",
  "name": "鋼の剣",
  "type": "weapon",
  "attack": 5,
  "defense": 0,
  "effect": null,
  "description": "標準的な剣。攻撃力5のダメージを与える。",
  "rarity": "common"
}
```

### 7.2 プレイヤーデータ構造
```json
{
  "id": "player_1",
  "name": "プレイヤー1",
  "hp": 40,
  "maxHp": 40,
  "hand": [],
  "equipment": {
    "weapon": null,
    "armor": null
  }
}
```

### 7.3 ゲーム状態データ構造
```json
{
  "gameId": "game_001",
  "phase": "battle",
  "turn": 1,
  "currentPlayer": "player_1",
  "players": [],
  "deck": [],
  "discardPile": [],
  "log": []
}
```

---

## 8. 開発スケジュール

### Phase 1: 基本実装（推定: 1-2週間）
| 日数 | タスク |
|------|--------|
| Day 1-2 | 環境構築、プロジェクトセットアップ |
| Day 3-4 | カードデータ作成、基本UI実装 |
| Day 5-7 | ゲームロジック実装 |
| Day 8-10 | CPU AI実装、テスト |
| Day 11-14 | デバッグ、調整 |

### Phase 2: AI拡張（推定: 1週間）
| 日数 | タスク |
|------|--------|
| Day 1-3 | AIカード生成機能設計・実装 |
| Day 4-5 | パラメータ未知化機能実装 |
| Day 6-7 | テスト、バランス調整 |

---

## 9. リスクと対策

| リスク | 影響度 | 対策 |
|--------|--------|------|
| ゲームバランス崩壊 | 高 | 段階的なパラメータ調整、テストプレイ |
| 技術的課題 | 中 | シンプルな技術スタックを選択 |
| モチベーション低下 | 中 | 小さな成功を積み重ねる開発手法 |

---

## 10. 参考資料

- [ゴッドフィールド 公式](https://godfield.net/)
- [ゴッドフィールド Wiki](https://godfield.gamewiki.jp/)
- [ゴッドフィールド 基本ルール解説](https://godfield.gamewiki.jp/basic-rule/)

---

## 11. 承認

| 役割 | 名前 | 日付 | 署名 |
|------|------|------|------|
| 開発者 | | | |
| レビュアー | | | |

---

*最終更新日: 2026年1月13日*

